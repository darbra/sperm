> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ [mp.weixin.qq.com](https://mp.weixin.qq.com/s/p5di2mWVLut7Grv4TDQvkg)

  

Â  Â  Â  å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ TheWeiJunï¼›å…‰é˜´ä¼¼ç®­ã€æ—¥æœˆå¦‚æ¢­ï¼Œçªç„¶å‘ç°åˆæœ‰å¥½é•¿æ—¶é—´æ²¡æœ‰æ›´æ–°äº†ã€‚è¿˜å¥½æ€»æœ‰ç²‰ä¸æœ‹å‹æ‰¾æˆ‘æé—®ï¼Œä»Šå¤©æ›´æ–°ä¸€ç¯‡ç²‰ä¸ **Robbers** æåˆ°çš„ç½‘ç«™é—®é¢˜ï¼Œä¸»è¦æ¶‰åŠ js é€†å‘å’Œ tls æŒ‡çº¹ç»•è¿‡ã€‚æ¬¢è¿å„ä½è¯»è€…æœ‹å‹å¤šå¤šé˜…è¯»ä¸äº¤æµï¼

ç‰¹åˆ«å£°æ˜ï¼šæœ¬å…¬ä¼—å·æ–‡ç« åªç”¨äºå­¦æœ¯ç ”ç©¶ï¼Œä¸ä½œä¸ºå…¶å®ƒä¸æ³•ç”¨é€”ï¼›å¦‚æœ‰ä¾µæƒè¯·è”ç³»ä½œè€…åˆ é™¤ã€‚

![](https://mmbiz.qpic.cn/mmbiz_gif/m5qEELWt8A6N3l9obtATicYg0vSreUhmEsiciaibJfHjG8MEHndnoJycRKpgeeK3LkxKu6qlz7oyC2Gelexa4W4Bfw/640?wx_fmt=gif)

ç«‹å³åŠ æ˜Ÿæ ‡

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A6N3l9obtATicYg0vSreUhmEG7mwRfEUOichNPSVJkJl4IDcjeqvJyO5GGxL9CaYcRQqg13wjyXVzicQ/640?wx_fmt=png)

æ¯å¤©çœ‹å¥½æ–‡

Â ç›®å½•

  

ä¸€ã€å‰è¨€ä»‹ç»

äºŒã€å‚æ•°åˆ†æ

ä¸‰ã€æ–­ç‚¹è°ƒè¯•

å››ã€ç®—æ³•åˆ†æ

äº”ã€æŒ‡çº¹ç»•è¿‡

å…­ã€å­¦ä¹ å±•æœ›  

è¶£å‘³æ¨¡å—

Â  Â  Â  Â Robbers æ˜¯ä¸€å spider å·¥ç¨‹å¸ˆï¼Œæœ€è¿‘ Robbers é‡åˆ°äº†ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜ï¼šRobbers åœ¨è®¿é—®æŸæŸç½‘ç«™æ—¶ï¼Œé‡åˆ°äº† JS åŠ å¯†å‚æ•°ã€‚Robbers å‡­å€Ÿè‡ªå·±è¶…é«˜çš„ä¸“ä¸šæŠ€èƒ½å¯¹è¯¥åŠ å¯†å‚æ•°é€†å‘è¿˜åŸåï¼Œç”¨ requestsã€httpxã€aiohttp ç­‰åŒ…å»å‘åŒ…ï¼Œå±…ç„¶è®¤è¯ä¸é€šè¿‡ï¼Œæç¤ºèº«ä»½æˆæƒå¤±è´¥ã€‚è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å°†å’Œ Robbers ä¸€èµ·å¹¶è‚©ä½œæˆ˜ï¼Œå»è§£å†³è¿™ä¸ªé—®é¢˜ï¼

ä¸€ã€å‰è¨€ä»‹ç»

Â  Â  Â  æˆ‘ä»¬åœ¨ä»¥å¾€çš„æ–‡ç« ä¸­éƒ½æ˜¯æåˆ°äº†å¦‚ä½•ä» paramsã€dataã€headersã€cookiesã€response ä¸­å»è¿˜åŸåŠ å¯†å‚æ•°ï¼Œé€šè¿‡è¿˜åŸåŠ å¯†å‚æ•°çš„æ–¹å¼å³å¯å®ç°æ•°æ®é‡‡é›†ã€‚è€Œä»Šå¤©æˆ‘ä»¬è¦åˆ†äº«çš„æ–‡ç« ä¸­ï¼Œå’Œæåˆ°çš„è¿™å‡ ä¸ªç±»å‹å®Œå…¨æ²¡æœ‰ä»»ä½•å…³è”ï¼Œé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œè¯¥å¦‚ä½•è§£å†³è¿™ç±»å‹çš„é—®é¢˜ï¼Ÿå¸¦ç€è¿™äº›ç–‘é—®è€å¿ƒçœ‹å®Œæœ¬ç¯‡æ–‡ç« ï¼Œä½ å°±è±ç„¶å¼€æœ—äº†ï¼

äºŒã€å‚æ•°åˆ†æ  

1ã€é¦–å…ˆæ‰“å¼€æˆ‘ä»¬ä»Šå¤©è¦æ¨¡æ‹Ÿçš„ç½‘ç«™ï¼Œåˆ·æ–°å½“å‰é¡µé¢ï¼Œæˆªå›¾å¦‚ä¸‹ï¼š

![](https://mmbiz.qpic.cn/mmbiz_jpg/m5qEELWt8A4ykgD3coXpmnEdBeicknqdozf350nUOAekmKibGLDoILJX9UicOIvnSLV9tIWLMADzLGFPq0uibj4a6A/640?wx_fmt=jpeg)

2ã€æ‰“å¼€å¼€å‘è€…å·¥å…· DevTools, é€‰æ‹© Network æ ç›®, åˆ·æ–°å½“å‰é¡µé¢ï¼Œæˆªå›¾å¦‚ä¸‹ï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdoTribnhzCIHwRkEOs6fBpVpLZs0CTMSiahqKb6fXY8iaypeIuFdgY6LVog/640?wx_fmt=png)

3ã€ç»è¿‡åˆ†æå¯ä»¥ç¡®å®šè¯¥æ¥å£å³ä¸ºæˆ‘ä»¬è¦è·å–æ•°æ®çš„åœ°å€ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¿›è¡Œå‚æ•°åˆ†æï¼š  

**Request å‚æ•°åˆ†æï¼š**

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdoKLXIbLTicw1nLVG9So7CPcX2DeCGzkmgfds8nvibHNS1BBQ3EyEb2jJg/640?wx_fmt=png)

**æ€»ç»“ï¼š**è¯¥æ¥å£éƒ½æ˜¯æ˜æ–‡ï¼Œä¸éœ€è¦è¿›è¡Œä»»ä½•è¿˜åŸã€‚

**Headers å‚æ•°åˆ†æï¼š**

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdocExlQJPgLKH8coLu6ic9CNlJkrnVBv4wSpib7zHd8av5VGCRgFPKBZsw/640?wx_fmt=png)

**æ€»ç»“ï¼š**u-sign ç›®æµ‹ä¸º md5 ç®—æ³•åŠ å¯†å‚æ•°ã€‚

é€šè¿‡åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®š u-sign å‚æ•°æ˜¯è¢«åŠ å¯†å¤„ç†äº†ã€‚ç»è¿‡é‡æ”¾è¯·æ±‚åŒ…ï¼Œä¸èƒ½å¤Ÿç¼ºå°‘ u-sign å‚æ•°ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦è¿›å…¥ JS æ®µç‚¹è°ƒè¯•åˆ†æåŠ å¯†å‚æ•°ç¯èŠ‚ä¸€æ¢ç©¶ç«Ÿäº†ã€‚

ä¸‰ã€æ–­ç‚¹è°ƒè¯•

1ã€ä½¿ç”¨ XHR/fetch æ‰“ä¸Šæ–­ç‚¹ï¼Œå½“è¯¥è¯·æ±‚å‘åŒ…çš„æ—¶å€™ï¼Œæ•è·æ–­ç‚¹å¦‚ä¸‹ï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdojvggOdGb0C7c5jgXBlDuqIwR37ESYdAQDZ2LzGcj9VFmoMA9kCeUPg/640?wx_fmt=png)

2ã€åœ¨ Call Stack æ ç›®ä¸­è¿½æº¯ headers å‚æ•°å †æ ˆï¼Œæˆªå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdohFjZE7Ctib7HN6xTxBVIZCNflhPUpt4oqJZ5zU51O35HKuZkqIWIkCg/640?wx_fmt=png)

3ã€åœ¨ u-sign å‚æ•°ä¸‹é¢ä¸€è¡Œæ‰“ä¸Šæ–­ç‚¹ï¼ŒæŸ¥çœ‹ u-sign å¯¹åº”çš„ value çš„å€¼ï¼Œæˆªå›¾å¦‚ä¸‹ï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdo27mP7BsmQA6xfxkqgEdWAadSFYJ0GVbek3OvMaRmTsITcJtR2X4EXw/640?wx_fmt=png)

4ã€ç¡®å®šåŠ å¯†å‡½æ•°ä¸º i åï¼Œæˆ‘ä»¬è¿›å…¥è¯¥å‡½æ•°ï¼ŒæŸ¥çœ‹åŠ å¯†é€»è¾‘ï¼Œæˆªå›¾å¦‚ä¸‹ï¼š  

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdo8icSOLxXrHd5ApaoEnfKpRtrgyl0zoGdJ1o2sWosDRgbjT0yw45RMTg/640?wx_fmt=png)

5ã€ç¡®å®š n(a) ä¸º u-sign å‚æ•°çš„å€¼åï¼Œæˆ‘ä»¬åœ¨ console è¾“å‡º a å‚æ•°ï¼Œcopy(a) ç”¨å‰é¢æåˆ°çš„ md5 å»æ ¡éªŒçœ‹æ˜¯å¦ç­‰äºè¯¥å‚æ•°çš„å€¼ï¼Œæˆªå›¾å¦‚ä¸‹ï¼š  

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdoe1054Zdbh1xDofUypgVtttk2Q8MLUW7HRQKv1bRVaHLxGDYUxODLUA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdooc6SVD0nSE816Zu2gEBTyviayTic3gX0pp1QzXU2oNphiaqGWaMLH8Srg/640?wx_fmt=png)

**æ€»ç»“ï¼š**ç¡®å®šå‚æ•°ç®—æ³•åŠæ•´ä¸ªæµç¨‹è´¯é€šåï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹ js ä»£ç åŠ å¯†ç®—æ³•è¿›è¡Œè¿˜åŸå³å¯ã€‚

å››ã€ç®—æ³•è¿˜åŸ

**1ã€Python ç‰ˆæœ¬ç®—æ³•è¿˜åŸä»£ç å¦‚ä¸‹ï¼š**

```
# -*- coding: utf-8 -*-
# --------------------------------------
# @author : é€†å‘ä¸çˆ¬è™«æ•…äº‹å…¬ä¼—å·
# --------------------------------------
import json
import hashlib
def get_sign(data: dict) -> str:
    data_str = json.dumps(data, separators=(',', ':'))
    text = f"{data_str.lower()}&9sasji5owng41irkisvtjhlxhmrysrp1"
    hash_md5 = hashlib.md5()
    hash_md5.update(text.encode())
    sign = hash_md5.hexdigest()
    return sign
if __name__ == '__main__':
    headers = {
        "Accept-Encoding": "gzip, deflate, br",
        "Connection": "keep-alive",
        'Accept': '*/*',
        'Accept-Language': 'zh-CN,zh;q=0.9',
        'Cache-Control': 'no-cache',
        "Content-Length": "132",
        'Pragma': 'no-cache',
        'Sec-Fetch-Dest': 'empty',
        'Sec-Fetch-Mode': 'cors',
        'Sec-Fetch-Site': 'same-site',
        'sec-ch-ua': '"Chromium";v="106", "Google Chrome";v="106", "Not;A=Brand";v="99"',
        'sec-ch-ua-mobile': '?0',
        'sec-ch-ua-platform': '"macOS"',
        'u-sign': '37635b63e0f1973c61b1444983eab1be',
        'u-token': '',
    }
    json_data = {
        'keyword': '',
        'provinceNames': [],
        'natureTypes': [],
        'eduLevel': '',
        'categories': [],
        'features': [],
        'pageIndex': 5,
        'pageSize': 20,
        'sort': 11,
    }
    sign = get_sign(json_data)
    print(sign)
    print(headers['u-sign'])

```

**2ã€ä»£ç è¿è¡Œåï¼Œ******Pycharm æ‰“å°ç»“æœå¦‚ä¸‹ï¼š****

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdo366QsFPOibh0Z4P4Dsjf8mBjvTQbq0co0dabEvVAGJjzUXN7ZOXRhYw/640?wx_fmt=png)

**3ã€ç®—æ³•è¿˜åŸåï¼Œä½¿ç”¨ Python å‘é€è¯·æ±‚åŒ…ï¼Œæˆªå›¾å¦‚ä¸‹ï¼š**

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdo4yicRgatgsdbdIwh9ib5fbbxfkAfGd65CDdUEMh7msQkJNUMNSsaRk7w/640?wx_fmt=png)

**æ€»ç»“ï¼š**å‚æ•°å®Œå…¨ä¸€è‡´çš„æƒ…å†µæ— æ³•é€šè¿‡è®¤è¯ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¿›å…¥æ–°çš„ç¯èŠ‚è§£å†³è¿™ä¸ªé—®é¢˜å§ï¼

äº”ã€æŒ‡çº¹ç»•è¿‡

1ã€åœ¨æˆ‘ä»¬å‚æ•°ç®—æ³•å®Œå…¨è¿˜åŸçš„æƒ…å†µï¼Œè¯·æ±‚è¯¥ç½‘ç«™å´æç¤ºèº«ä»½è®¤è¯å¤±è´¥ï¼Œæˆ‘ä»¬é‡æ–°æ¢³ç†ä¸‹å¯èƒ½å­˜åœ¨çš„æƒ…å†µå¦‚ä¸‹ï¼š  

*   cookies
    
*   http2.0
    
*   tls æŒ‡çº¹
    

**æ€»ç»“ï¼š**ç»è¿‡åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥ç¡®è®¤è¯¥ç½‘ç«™ä¸éœ€è¦ cookiesï¼Œæ•…ç¬¬ä¸€ç§æ€€ç–‘æ’é™¤æ‰ï¼›æ¥ä¸‹æ¥è¿›è¡Œ http2.0 éªŒè¯ã€‚  

2ã€å¯èƒ½æ¯”è¾ƒå‚»ï¼Œæˆ‘ç¡®å®ç”¨ httpx éªŒè¯äº†ä¸‹è¯¥ç½‘ç«™ï¼Œæˆªå›¾å¦‚ä¸‹ï¼š  

```
with httpx.Client(http2=True) as req:
    response = req.post('https://xxxxxxxx.cn/xxxxx.basiclib.api.college.query',
                        headers=headers, json=json_data)
    print(response.text)

```

Pycharm ä»£ç è¿è¡Œåï¼Œæˆªå›¾å¦‚ä¸‹ï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdo8OiaAWmXXrTiaZI1Axpf9zM8yVv0J8S2nyfhU1s9qFibZjt623mzlqEEQ/640?wx_fmt=png)

**æ€»ç»“ï¼š**ç»“å±€æ€»æ˜¯é‚£ä¹ˆä¸ç†æƒ³ï¼Œæ­¤åˆ»æ€€ç–‘çš„æ–¹æ¡ˆåªå‰©ä¸‹æœ€åä¸€ç§ï¼šè¯¥ç½‘ç«™å¯¹ tls è¯·æ±‚æŒ‡çº¹è¿›è¡ŒéªŒè¯ï¼›æ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­åˆ†æã€‚

å¯èƒ½åˆ°è¿™é‡Œä¼šæœ‰äººé—®ï¼Œä»€ä¹ˆæ˜¯ tls æŒ‡çº¹ï¼Ÿ

**TLS æŒ‡çº¹**ï¼Œä¹Ÿæœ‰äººå« JA3 æŒ‡çº¹ã€‚åœ¨åˆ›å»º TLS è¿æ¥æ—¶ï¼Œæ ¹æ® TLS åè®®åœ¨ Client Hello é˜¶æ®µå‘é€çš„æ•°æ®åŒ…å°±æ˜¯å°±æ˜¯ TLS æŒ‡çº¹ã€‚ä¸åŒæµè§ˆå™¨ã€ä¸åŒç‰ˆæœ¬ï¼ˆä¸åŒæ¡†æ¶ï¼‰å› ä¸ºå¯¹åè®®çš„ç†è§£å’Œåº”ç”¨ä¸ä¸€æ ·ï¼Œæ‰€ä»¥å‘é€çš„æ•°æ®åŒ…å†…å®¹ä¹Ÿå°±ä¸ä¸€æ ·ï¼Œæ‰€ä»¥å°±å½¢æˆäº† TLS æŒ‡çº¹ã€‚

3ã€ä½¿ç”¨ Postman è¿›è¡Œå‘åŒ…æµ‹è¯•ï¼Œä¸å†ä½¿ç”¨ Python ç¬¬ä¸‰æ–¹åŒ…ï¼Œæˆªå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdoARaL4LmrHyia579AFiadVyafyFLujqCQ3ibMmpXBnKsXMR1MAJNDf8FhA/640?wx_fmt=png)

**æ€»ç»“ï¼š**çœ‹åˆ°æ­¤å¤„åä¸€ä¸‹è±ç„¶å¼€æœ—äº†ï¼Œå¯ä»¥è‚¯å®šå¯¹æ–¹æœåŠ¡ç«¯ä¼šå¯¹è¯·æ±‚æŒ‡çº¹è¿›è¡Œæ ¡éªŒï¼Œå¦‚æœæ˜¯æˆ‘ä»¬åˆšåˆšä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ï¼Œéƒ½ä¼šè¢«æœåŠ¡ç«¯ç»™è¯†åˆ«åˆ°ï¼Œæœ€åè¿”å›èº«ä»½æˆæƒå¤±è´¥é”™è¯¯ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•è¿‡ TLS æŒ‡çº¹å‘¢ï¼Ÿ

**æ€ä¹ˆè¿‡ TLS æŒ‡çº¹ï¼Ÿè¿™æ˜¯ä¸€ä¸ªé»‘å®¢å¤§ä½¬æ€»ç»“çš„å‡ ç§æ–¹æ³•ï¼š**

*   **ä»£ç†ä¸­è½¬è¯·æ±‚**
    
*   **ä½¿ç”¨ Go è¯­è¨€çˆ¬è™«åº“**
    
*   **é­”æ”¹ requests**
    
*   **è®¿é—® ip æŒ‡å®š host ç»•è¿‡ waf  
    **
    

4ã€æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ Golang ç¼–å†™ä»£ç åŠè¿˜åŸç®—æ³•å¦‚ä¸‹ï¼š  

```
// Package main -----------------------------
// @author    : é€†å‘ä¸çˆ¬è™«çš„æ•…äº‹
// -------------------------------------------
package main
import (
  "crypto/md5"
  "fmt"
  "io/ioutil"
  "log"
  "net/http"
  "strings"
  "time"
)
func main() {
  client := &http.Client{}
  dataStr := `{"keyword":"","provinceNames":[],"natureTypes":[],"eduLevel":"","categories":[],"features":[],"pageIndex":2,"pageSize":20,"sort":11}`
  var data = strings.NewReader(dataStr)
  req, err := http.NewRequest("POST", "https://xxxxxx/xxxxx.query", data)
  if err != nil {
    log.Fatal(err)
  }
  sign := fmt.Sprintf("%x", md5.Sum([]byte(strings.ToLower(dataStr)+"&9sasji5owng41irkisvtjhlxhmrysrp1")))
  fmt.Println(sign)
  req.Header.Set("Accept", "*/*")
  req.Header.Set("Accept-Language", "zh-CN,zh;q=0.9")
  req.Header.Set("Connection", "keep-alive")
  req.Header.Set("Content-Type", "application/json")
  req.Header.Set("Origin", "https://xxxxx.cn")
  req.Header.Set("Referer", "https://xxxxxx.cn/")
  req.Header.Set("Sec-Fetch-Dest", "empty")
  req.Header.Set("Sec-Fetch-Mode", "cors")
  req.Header.Set("Sec-Fetch-Site", "same-site")
  req.Header.Set("User-Agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36")
  req.Header.Set("sec-ch-ua", `"Google Chrome";v="107", "Chromium";v="107", "Not=A?Brand";v="24"`)
  req.Header.Set("sec-ch-ua-mobile", "?0")
  req.Header.Set("sec-ch-ua-platform", `"Windows"`)
  req.Header.Set("u-sign", sign)
  req.Header.Set("u-token", "")
  resp, err := client.Do(req)
  if err != nil {
    log.Fatal(err)
  }
  defer resp.Body.Close()
  bodyText, err := ioutil.ReadAll(resp.Body)
  if err != nil {
    log.Fatal(err)
  }
  fmt.Printf("%s\n", bodyText)
  fmt.Println(string(time.Now().Weekday()))
}

```

5ã€æ‰§è¡Œç¼–è¾‘å¥½çš„ä»£ç ï¼ŒGoLand æ‰“å°å¦‚ä¸‹ï¼š  

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdoPxkvqTU2IpicXlImTaRkRfjDSDZCdNdgVzmAsawryFSFnF3W3sgU60w/640?wx_fmt=png)

**æ€»ç»“ï¼š**åˆ°æ­¤æˆ‘ä»¬å·²ç»èƒ½å¤Ÿè§£å†³ Robbers ç²‰ä¸é‡åˆ°çš„é—®é¢˜äº†ï¼Œè¿™ä¹Ÿè®©æˆ‘æ„è¯†åˆ°éšç€åçˆ¬ç­–ç•¥çš„å‡çº§ï¼ŒæœåŠ¡ç«¯å¯èƒ½ä¼šå¯¹çˆ¬è™«æœ€å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…è¿›è¡Œè¯·æ±‚æŒ‡çº¹æ£€æµ‹ã€‚åŒæ—¶ä¹Ÿè¯´æ˜äº†ï¼Œçˆ¬è™«é™¤äº† Pythonï¼Œç”¨ Go å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚

å…­ã€å­¦ä¹ å±•æœ›

ç¬”è€…å¯¹ GoLangã€Python ä»£ç åˆ†åˆ«è®¾ç½®ä»£ç†åï¼Œç”¨ charles æŠ“åŒ…åˆ†æå¦‚ä¸‹ï¼š

*   GoLang è®¾ç½®ä»£ç†å‘åŒ…
    

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdoKtDcFaicA6qwZXvjnFFzicickp1XwnanW38hFAl6JcyNiarzk0DSibFVLAA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdo6diaiaOWZwuNdk6Q42Dla2LyxCk6tEYLgBsUSEkX0icysDiawJnGPmXAcw/640?wx_fmt=png)

*   Python è®¾ç½®ä»£ç†å‘åŒ…
    

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdoVMibguqfxTZZAsiaicNKSfHHhmTEPFkErxibx3nmbzjAwkWEXFmyn1KLUA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdoQlMtpXa0Vc9z8IBSBsyUbJvGmeyE9tkMMDicLfudzrJfzbibvqjltGqQ/640?wx_fmt=png)

æˆ‘ä»¬å¯¹ GoLangã€Python ä¸¤æ¬¡å‘åŒ…åçš„è¯·æ±‚å‚æ•°å¯¹æ¯”åˆ†æï¼Œæˆªå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š

*   **GoLang ç‰ˆæœ¬**
    

![](https://mmbiz.qpic.cn/mmbiz_jpg/m5qEELWt8A4ykgD3coXpmnEdBeicknqdoRuy4j7xu8Via4YWCUUt0ibbY9moYnIhpNjLyicgAbkBd2NKWCTJhMbibVw/640?wx_fmt=jpeg)

*   **Python ç‰ˆæœ¬**
    

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A4ykgD3coXpmnEdBeicknqdo7xEgoQfn95gFQsVvkfxTLpncq4b5KHLY1euWVmLbUhxuUoIyHhaYEw/640?wx_fmt=png)

**æ€»ç»“ï¼š**æœ¬æ¥æƒ³ä½¿ç”¨ charles æ‹¦æˆªè¯·æ±‚åŒ…æŸ¥çœ‹æ•°æ®åŒ…æœ‰å“ªäº›åŒºåˆ«ï¼Œä½†æ˜¯æ„Ÿè§‰ä½¿ç”¨ charles æŸ¥çœ‹ä¸å¤Ÿç›´è§‚ï¼Œcharles åº”ç”¨ä¸­æˆ‘ä»¬ä¹Ÿå¾—åˆ°äº†ä¸€äº›æœ‰ç”¨ä¿¡æ¯ (æ ‡çº¢éƒ¨åˆ†)ï¼Œæå–æœåŠ¡å™¨çš„ ip+port ä½¿ç”¨ **Wireshark** æ‰“å¼€æŸ¥çœ‹ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æ›´ç›´è§‚çš„ä¿¡æ¯å§ã€‚

ä½¿ç”¨ Wireshark æŠ“åŒ…ï¼Œå†æ¬¡ä½¿ç”¨ goã€Python å»å‘åŒ…ï¼Œå‘åŒ…åæ ¹æ® charles è·å–çš„ ip ä¿¡æ¯ç­›é€‰ tls æŒ‡çº¹ç›¸å…³æ•°æ®åŒ…ï¼Œæˆªå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A7bGQPjmQVQichZiabKyQrIEkHXQzt4pInZUXYmkbk9lSyK1EvCk5GY1Zq7bDusYroQZPtic5JHkcmMA/640?wx_fmt=png)

ç´§æ¥ç€æˆ‘ä»¬ç‚¹å‡»å¦‚ä¸‹æŒ‰é’®è¿›è¡Œå‚æ•°å®šä½ï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A7bGQPjmQVQichZiabKyQrIEkZdwJlfXqxl8Epmr9lcHPzlytDdYx19Mw5kdTian74BAFOibofPQ99rHQ/640?wx_fmt=png)

å°†é¼ æ ‡æ‹‰åˆ°æœ€åï¼Œå¯ä»¥çœ‹åˆ° tls ä¹Ÿå°±æ˜¯ JA3 æŒ‡çº¹å¦‚ä¸‹æ‰€ç¤ºï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A7bGQPjmQVQichZiabKyQrIEk7NkYbaFGLmiaKiaBjEK652oEpF1bYXCGuCJCSjibthIhOPm4l04pZ4saA/640?wx_fmt=png)

æ•´ç† goã€python å‘åŒ…åçš„æŒ‡çº¹æ–‡æœ¬å¯¹æ¯”å¦‚ä¸‹ï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A7bGQPjmQVQichZiabKyQrIEkvTxF8tOkgtCyKoLLJ491XPJAkUEx9AXDsiaxM11FwGGicE1oibpEgmJsQ/640?wx_fmt=png)

**æ€»ç»“ï¼š**ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºä¸¤ä¸ªè¯·æ±‚åŒ…çš„ JA3 æŒ‡çº¹åŠ å¯†ç®—æ³•ä¸ä¸€è‡´ï¼›å¦‚æœæˆ‘ä»¬è¿˜è¦ç»§ç»­ä½¿ç”¨ Python requests å»å®ç°ä»£ç ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨é­”æ”¹ requests ä¿®æ”¹ TLS æ¡æ‰‹ç‰¹å¾çš„ä»£ç å»å®ç°ï¼Œä¹Ÿå¯ä»¥å»é˜…è¯»ä¸‹ tls æŒ‡çº¹ç›¸å…³çš„æ–‡æ¡£ã€‚ç®€å•çš„ç½‘ç«™æ˜¯å¯ä»¥é€šè¿‡ä½¿ç”¨é­”æ”¹ requests ä¿®æ”¹ TLS æ‚æ‰‹ç‰¹å¾ä»£ç é€šè¿‡ï¼Œéš¾åº¦è¾ƒå¤§çš„å°±ä¸èƒ½é€šè¿‡äº†ï¼Œè¿˜éœ€è¦æ–°çš„æ–¹æ¡ˆå»æ›¿ä»£å“¦ã€‚è¿™é‡Œçªå‡ºä¸€ç‚¹ï¼Œå­¦æ— æ­¢å¢ƒå•Š ^_^â›½ï¸

æœ¬ç¯‡åˆ†äº«åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨ä¸‹ä¸€æœŸï¼Œæˆ‘ä»¬ä¸è§ä¸æ•£â˜€ï¸â˜€ï¸ğŸ˜Š

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A43BLL5j8ShhkUSRLT9ayEsmde5yxQmlKq8qZgsltoYaFpliaXKlmJUtNr6uZHibrn2xgIsQJUXu2nA/640?wx_fmt=png)

å…³æ³¨æˆ‘ä»¬è·å¾—æ›´å¤šç²¾å½©å†…å®¹

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A7revypRO1iacSSjh6m3iaeZ7k7QiaRDzFktiaSbkClw0pXa6NV1Q9ge9a6D5nxGOojicqVQUQqQK0NOHg/640?wx_fmt=png)

_**END**_

![](https://mmbiz.qpic.cn/mmbiz_png/m5qEELWt8A7revypRO1iacSSjh6m3iaeZ7zpB5TQPCHMeJVyX5BicWRibtHzfCIJvrJRAiaLC9akyJxXrfKVMnUS6rw/640?wx_fmt=png)

  

![](https://mmbiz.qpic.cn/mmbiz_gif/m5qEELWt8A4g05V4rHL4vZMyGTE8ic691Wt6FFglTFeeibsPZT5F1vAiafn06J37WwvPkkGVX2B14Qh3gpPmic5Dpw/640?wx_fmt=gif)

Â Â Â Â æˆ‘æ˜¯ **TheWeiJun**ï¼Œæœ‰ç€æ‰§ç€çš„è¿½æ±‚ï¼Œä¿¡å¥‰ç»ˆèº«æˆé•¿ï¼Œä¸å®šä¹‰è‡ªå·±ï¼Œçƒ­çˆ±æŠ€æœ¯ä½†ä¸æ‹˜æ³¥äºæŠ€æœ¯ï¼Œçˆ±å¥½åˆ†äº«ï¼Œå–œæ¬¢è¯»ä¹¦å’Œä¹äºç»“äº¤æœ‹å‹ï¼Œæ¬¢è¿åŠ æˆ‘å¾®ä¿¡ä¸æˆ‘äº¤æœ‹å‹ã€‚

Â Â Â Â åˆ†äº«æ—¥å¸¸å­¦ä¹ ä¸­å…³äºçˆ¬è™«ã€é€†å‘å’Œåˆ†æçš„ä¸€äº›æ€è·¯ï¼Œæ–‡ä¸­è‹¥æœ‰é”™è¯¯çš„åœ°æ–¹ï¼Œæ¬¢è¿å¤§å®¶å¤šå¤šäº¤æµæŒ‡æ­£â˜€ï¸

![](https://mmbiz.qpic.cn/mmbiz_jpg/m5qEELWt8A4g05V4rHL4vZMyGTE8ic691PicricStHwRzqmIO1cPGTPsCk5SmfU2AZQLL2B6KSpxaHGguqZjXnjiaw/640?wx_fmt=jpeg)

![](https://mmbiz.qpic.cn/mmbiz_gif/m5qEELWt8A7lKEcIibT9GVduic8eSDCiaFLwXGFXXOX978IvJSokfVzoN9L2EUB8bUAC0QqT1WJmckZfBfZJl3FFA/640?wx_fmt=gif)

**ç‚¹åˆ†äº«**

![](https://mmbiz.qpic.cn/mmbiz_gif/m5qEELWt8A7lKEcIibT9GVduic8eSDCiaFLAWgUzHv0vx1STQhKykWTpicN12F4UdUeNXS1WsXYicqeBzmEUQbB3dAg/640?wx_fmt=gif)

**ç‚¹æ”¶è—**

![](https://mmbiz.qpic.cn/mmbiz_gif/m5qEELWt8A7lKEcIibT9GVduic8eSDCiaFLJzbzyLgP8z7NIwqluryicesaw2PBoEPNvQ8K0jpyqn7AlA3vHGq1n3Q/640?wx_fmt=gif)

**ç‚¹ç‚¹èµ**

![](https://mmbiz.qpic.cn/mmbiz_gif/m5qEELWt8A7lKEcIibT9GVduic8eSDCiaFLXdRibvzbwpGJb8wcTtFaUYTx1WXpUiaaD9TYy6Rk7jYhSwAL7c7BsSbA/640?wx_fmt=gif)

**ç‚¹åœ¨çœ‹**